version: '3'

services:
    bot:
        container_name: slack-translate
        restart: always
        hostname: slack-translate.local
        build:
            dockerfile: Dockerfile
            context: .
        depends_on:
            - redis
        volumes:
            - ..:/workspace:cached
        command: sleep infinity
        ports: 
            - "8080:80"
    redis:
        container_name: slack-translate-cache
        image: redis:latest
        command: --port 6380
        volumes:
            - redis:/data
        ports:
            - "6380:6380"
    
volumes:
    redis:
    bot: